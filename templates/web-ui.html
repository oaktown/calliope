{{define "content"}}
    <h1>Calliope</h1>
    <p>Email analysis</p>
    <h2>Server stats:</h2>
    <ul>
        <li>
            Number of emails: {{.TotalEmails}}
        </li>
        <li>
            Earliest email date: {{.Earliest}}
        </li>
        <li>
            Latest email date: {{.Latest}}
        </li>
    </ul>

    <div class="search-form">
        <form action="/" method="get">
            <div>
                <label for="gmailurl">Gmail URL prefix:</label><br>
                <input name="gmailurl" placeholder="gmailurl" value="{{.Fields.InboxUrl}}">
            </div>
            <div>
                <label for="label">Label:</label><br>
                <input name="label" value="{{.Fields.Label}}">
            </div>
            <div>
                <label for="starred">Starred:</label><br>
                <input type="checkbox" name="starred" value="true" {{if .Fields.Starred}}checked{{end}}>
            </div>
            <div>
                <label for="sort">Sort field:</label><br>
                <input name="sort" value="{{.Fields.SortField}}">
            </div>
            <div>
                <label for="ascending">Ascending:</label><br>
                <input type="ascending" name="ascending" value="true" {{if .Fields.SortAscending}}checked{{end}}>
            </div>
            <div>
                <label for="size">Size:</label><br>
                <input name="size" value="{{.Fields.Size}}">
            </div>
            <div>
                <input type="submit">
            </div>
        </form>

            <div>
                <p>OR</p>
            </div>
        <form action="/" method="get">
            <div>
                <label for="gmailurl">Gmail URL prefix:</label><br>
                <input name="gmailurl" placeholder="gmailurl" value="https://mail.google.com/mail/">
            </div>
            <div>
                <label for="query">Query:</label><br>
                <textarea rows="12" cols="120" name="query">{{.Query}}</textarea>
            </div>
            <div>
                <input type="submit" value="submit">
            </div>
        </form>
    </div>

    <div class="report">
        {{.Report}}
    </div>
{{end}}
